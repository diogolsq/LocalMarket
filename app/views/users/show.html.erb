<h1>User Profile</h1>



<div id="map"
     style="width: 100%; height: 600px;"
     data-markers="<%= @markers.to_json %>"
     data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"></div>

<%# display WELCOME BACK only if you are the owner of the page %>
<% if current_user == @user %>
  <p>Welcome back, <%= @user.name.capitalize %></p>
<% end %>

<%# display SELLER only if the user is a seller %>
<% if @user.seller %>
  <p>Seller</p>
<% end %>

<%# user info with conditions %>
<% if current_user == @user %>
  <h1>Your Information</h1>
  <%= link_to edit_user_registration_path, class: "nav-link" do %>
    <i class="fas fa-user-edit"></i>
  <% end %>
<% else %>
  <p> Seller Information <p>
<% end %>
    
<p> name : <%= @user.name %></p>
<% if current_user == @user %>
   <p> username :<%= @user.username %></p>
   <p> cellphone: <%= @user.cellphone %></p>
<% end %>
<p> address: <%= @user.address %></p>
<%# end user info with conditions logic %>

<%# display your purchases logic %>
<% if current_user == @user %>
  <h2>Your Purchases </h2>
  <hr>
  <% @orders.each do |order| %>
    <p><%= order.status %><p>
  <% end %>
<% end %>

<%# display sellers products logic %>
<% if @user.seller %>
  <% if current_user == @user %>
    <h2>Your Products </h2>
    <%= link_to new_product_path(@user), class: "nav-link" do %>
      <div class='btn btn-danger'> Add Products </div>
    <% end %>
  <% else %>
    <h2>All products from this seller</h2>
  <% end %>
  <% @products.each do |product| %>
    <p><%= link_to "#{product.name}", product_path(product) %><p>
  <% end %>
<% end %>
